{"ast":null,"code":"import _objectSpread from\"C:/Users/hexshadeveloper/Desktop/project/test1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ClipboardDocumentListIcon,PhoneIcon,CheckCircleIcon,XCircleIcon,ClockIcon,ExclamationCircleIcon,EnvelopeIcon,ChatBubbleLeftIcon,InformationCircleIcon}from'@heroicons/react/24/outline';import{auth,db}from'../../firebase';import{collection,query,where,getDocs,updateDoc,doc,Timestamp}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const STATUS_OPTIONS=[{value:'em_atendimento',label:'Em Atendimento'},{value:'sem_contato',label:'Sem Contato'},{value:'lead_errado',label:'Lead Errado'},{value:'recusado',label:'Recusado'},{value:'contrato_aprovado',label:'Contrato Aprovado'}];export default function MeusLeads(){var _selectedDetailLead$u;const[leads,setLeads]=useState([]);const[loading,setLoading]=useState(true);const[showStatusModal,setShowStatusModal]=useState(false);const[selectedLead,setSelectedLead]=useState(null);const[selectedStatus,setSelectedStatus]=useState('');const[stats,setStats]=useState({total:0,emAtendimento:0,convertidos:0,perdidos:0});const[showDetailsModal,setShowDetailsModal]=useState(false);const[selectedDetailLead,setSelectedDetailLead]=useState(null);useEffect(()=>{const fetchLeads=async()=>{if(!auth.currentUser)return;try{const leadsRef=collection(db,'leads');const q=query(leadsRef,where('corretor_id','==',auth.currentUser.uid));const querySnapshot=await getDocs(q);const leadsData=[];let totalLeads=0;let emAtendimento=0;let convertidos=0;let perdidos=0;const now=new Date();querySnapshot.forEach(doc=>{var _lead$data_distribuic;const lead=_objectSpread({id:doc.id},doc.data());// Verifica se o lead expirou (6 horas)\nconst dataDistribuicao=(_lead$data_distribuic=lead.data_distribuicao)===null||_lead$data_distribuic===void 0?void 0:_lead$data_distribuic.toDate();if(dataDistribuicao){const horasPassadas=(now-dataDistribuicao)/(1000*60*60);if(horasPassadas>6&&lead.status_changes<2){// Devolve o lead para o gestor\ndevolverLead(doc.id);return;}}leadsData.push(lead);totalLeads++;switch(lead.status){case'em_atendimento':emAtendimento++;break;case'contrato_aprovado':convertidos++;break;case'recusado':case'lead_errado':perdidos++;break;}});setLeads(leadsData);setStats({total:totalLeads,emAtendimento,convertidos,perdidos});}catch(error){console.error('Erro ao buscar leads:',error);}finally{setLoading(false);}};fetchLeads();// Verifica leads expirados a cada minuto\nconst interval=setInterval(fetchLeads,60000);return()=>clearInterval(interval);},[]);const devolverLead=async leadId=>{try{const leadRef=doc(db,'leads',leadId);await updateDoc(leadRef,{corretor_id:null,status:'devolvido',data_devolucao:Timestamp.now(),motivo_devolucao:'Tempo expirado'});}catch(error){console.error('Erro ao devolver lead:',error);}};const handleChangeStatus=async()=>{if(!selectedLead||!selectedStatus)return;try{const leadRef=doc(db,'leads',selectedLead.id);// Verifica se já atingiu o limite de alterações\nif(selectedLead.status_changes>=2){alert('Este lead já atingiu o limite de alterações de status.');return;}await updateDoc(leadRef,{status:selectedStatus,status_changes:(selectedLead.status_changes||0)+1,ultima_interacao:Timestamp.now(),historico_status:[...(selectedLead.historico_status||[]),{status:selectedStatus,data:Timestamp.now(),corretor_id:auth.currentUser.uid}]});// Atualiza a lista de leads\nconst updatedLeads=leads.map(lead=>{if(lead.id===selectedLead.id){return _objectSpread(_objectSpread({},lead),{},{status:selectedStatus,status_changes:(lead.status_changes||0)+1,ultima_interacao:Timestamp.now()});}return lead;});setLeads(updatedLeads);setShowStatusModal(false);setSelectedLead(null);setSelectedStatus('');}catch(error){console.error('Erro ao atualizar status:',error);alert('Erro ao atualizar status do lead. Tente novamente.');}};const getStatusColor=status=>{switch(status){case'em_atendimento':return'bg-yellow-100 text-yellow-800';case'contrato_aprovado':return'bg-green-100 text-green-800';case'recusado':case'lead_errado':return'bg-red-100 text-red-800';case'sem_contato':return'bg-gray-100 text-gray-800';default:return'bg-blue-100 text-blue-800';}};const getTempoRestante=dataDistribuicao=>{if(!dataDistribuicao)return null;const agora=new Date();const distribuicao=dataDistribuicao.toDate();const tempoPassado=(agora-distribuicao)/(1000*60);// em minutos\nconst tempoRestante=360-tempoPassado;// 6 horas em minutos\nif(tempoRestante<=0)return'Expirado';const horas=Math.floor(tempoRestante/60);const minutos=Math.floor(tempoRestante%60);if(horas>0){return\"\".concat(horas,\"h\").concat(minutos,\"m\");}return\"\".concat(minutos,\"m\");};const getTempoRestanteColor=dataDistribuicao=>{if(!dataDistribuicao)return'text-gray-500';const agora=new Date();const distribuicao=dataDistribuicao.toDate();const tempoPassado=(agora-distribuicao)/(1000*60);// em minutos\nconst tempoRestante=360-tempoPassado;// 6 horas em minutos\nif(tempoRestante<=0)return'text-red-600';if(tempoRestante<=60)return'text-red-500';// última hora\nif(tempoRestante<=120)return'text-yellow-500';// últimas 2 horas\nreturn'text-green-500';};const openDetailsModal=lead=>{setSelectedDetailLead(lead);setShowDetailsModal(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-6 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"Carregando leads...\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Meus Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Gerencie seus leads ativos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100 text-blue-600\",children:/*#__PURE__*/_jsx(ClipboardDocumentListIcon,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total de Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:stats.total})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-yellow-100 text-yellow-600\",children:/*#__PURE__*/_jsx(PhoneIcon,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Em Atendimento\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:stats.emAtendimento})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100 text-green-600\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Convertidos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:stats.convertidos})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-red-100 text-red-600\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Perdidos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:stats.perdidos})]})]})})]}),showStatusModal&&selectedLead&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900\",children:\"Alterar Status do Lead\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowStatusModal(false);setSelectedLead(null);setSelectedStatus('');},className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[\"Lead: \",selectedLead.nome]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:[\"Altera\\xE7\\xF5es restantes: \",2-(selectedLead.status_changes||0)]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Novo Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedStatus,onChange:e=>setSelectedStatus(e.target.value),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione um status\"}),STATUS_OPTIONS.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowStatusModal(false);setSelectedLead(null);setSelectedStatus('');},className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChangeStatus,disabled:!selectedStatus,className:\"px-4 py-2 rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed\",children:\"Confirmar\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Leads Ativos\"})}),leads.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Nenhum lead encontrado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Aguarde a distribui\\xE7\\xE3o de leads pelo seu gestor.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:leads.map(lead=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:lead.nome}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[lead.telefone&&/*#__PURE__*/_jsx(\"a\",{href:\"https://wa.me/55\".concat(lead.telefone.replace(/\\D/g,'')),target:\"_blank\",rel:\"noopener noreferrer\",className:\"inline-flex items-center text-green-600 hover:text-green-700\",title:\"Enviar WhatsApp\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-4 w-4\"})}),lead.telefone&&/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(lead.telefone),className:\"inline-flex items-center text-blue-600 hover:text-blue-700\",title:\"Ligar\",children:/*#__PURE__*/_jsx(PhoneIcon,{className:\"h-4 w-4\"})}),lead.email&&/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(lead.email),className:\"inline-flex items-center text-gray-600 hover:text-gray-700\",title:\"Enviar E-mail\",children:/*#__PURE__*/_jsx(EnvelopeIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs font-medium mt-1 flex items-center \".concat(getTempoRestanteColor(lead.data_distribuicao)),children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-3 w-3 mr-1\"}),getTempoRestante(lead.data_distribuicao)]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(getStatusColor(lead.status||'novo')),children:(lead.status||'novo').replace('_',' ').charAt(0).toUpperCase()+(lead.status||'novo').slice(1)}),lead.status_changes>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",2-lead.status_changes,\" altera\\xE7\\xF5es restantes)\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(lead.status_changes>=2){alert('Este lead já atingiu o limite de alterações de status.');return;}setSelectedLead(lead);setShowStatusModal(true);},className:\"text-primary-600 hover:text-primary-900 disabled:text-gray-400 disabled:hover:text-gray-400 \".concat(lead.status_changes>=2?'cursor-not-allowed':''),disabled:lead.status_changes>=2,children:\"Alterar Status\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openDetailsModal(lead),className:\"text-gray-600 hover:text-gray-900\",title:\"Ver detalhes\",children:/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"h-5 w-5\"})})]})})]},lead.id))})]})})]}),showDetailsModal&&selectedDetailLead&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-lg w-full p-5 transform transition-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:selectedDetailLead.nome}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 text-xs font-medium rounded-full \".concat(getStatusColor(selectedDetailLead.status||'novo')),children:(selectedDetailLead.status||'novo').replace('_',' ').charAt(0).toUpperCase()+(selectedDetailLead.status||'novo').slice(1)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDetailsModal(false);setSelectedDetailLead(null);},className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pb-3 border-b border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[selectedDetailLead.telefone&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://wa.me/55\".concat(selectedDetailLead.telefone.replace(/\\D/g,'')),target:\"_blank\",rel:\"noopener noreferrer\",className:\"inline-flex items-center text-sm text-green-600 hover:text-green-700\",title:\"WhatsApp\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(selectedDetailLead.telefone),className:\"inline-flex items-center text-sm text-blue-600 hover:text-blue-700\",title:\"Ligar\",children:/*#__PURE__*/_jsx(PhoneIcon,{className:\"h-5 w-5\"})})]}),selectedDetailLead.email&&/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(selectedDetailLead.email),className:\"inline-flex items-center text-sm text-gray-600 hover:text-gray-700\",title:\"Email\",children:/*#__PURE__*/_jsx(EnvelopeIcon,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm font-medium \".concat(getTempoRestanteColor(selectedDetailLead.data_distribuicao)),children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-1\"}),getTempoRestante(selectedDetailLead.data_distribuicao)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-x-6 gap-y-3\",children:[selectedDetailLead.email&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 truncate\",children:selectedDetailLead.email})]}),selectedDetailLead.telefone&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"Telefone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedDetailLead.telefone})]}),selectedDetailLead.possui_cnpj&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"CNPJ\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedDetailLead.possui_cnpj})]}),selectedDetailLead.idades&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"Idades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedDetailLead.idades})]}),selectedDetailLead.profissao&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"Profiss\\xE3o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedDetailLead.profissao})]}),selectedDetailLead.plano_atual&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500\",children:\"Plano Atual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedDetailLead.plano_atual})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-3 mt-2 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"\\xDAltima intera\\xE7\\xE3o: \",((_selectedDetailLead$u=selectedDetailLead.ultima_interacao)===null||_selectedDetailLead$u===void 0?void 0:_selectedDetailLead$u.toDate().toLocaleString())||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[selectedDetailLead.status_changes||0,\" de 2 altera\\xE7\\xF5es realizadas\"]})]})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","ClipboardDocumentListIcon","PhoneIcon","CheckCircleIcon","XCircleIcon","ClockIcon","ExclamationCircleIcon","EnvelopeIcon","ChatBubbleLeftIcon","InformationCircleIcon","auth","db","collection","query","where","getDocs","updateDoc","doc","Timestamp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","STATUS_OPTIONS","value","label","MeusLeads","_selectedDetailLead$u","leads","setLeads","loading","setLoading","showStatusModal","setShowStatusModal","selectedLead","setSelectedLead","selectedStatus","setSelectedStatus","stats","setStats","total","emAtendimento","convertidos","perdidos","showDetailsModal","setShowDetailsModal","selectedDetailLead","setSelectedDetailLead","fetchLeads","currentUser","leadsRef","q","uid","querySnapshot","leadsData","totalLeads","now","Date","forEach","_lead$data_distribuic","lead","_objectSpread","id","data","dataDistribuicao","data_distribuicao","toDate","horasPassadas","status_changes","devolverLead","push","status","error","console","interval","setInterval","clearInterval","leadId","leadRef","corretor_id","data_devolucao","motivo_devolucao","handleChangeStatus","alert","ultima_interacao","historico_status","updatedLeads","map","getStatusColor","getTempoRestante","agora","distribuicao","tempoPassado","tempoRestante","horas","Math","floor","minutos","concat","getTempoRestanteColor","openDetailsModal","className","children","onClick","nome","onChange","e","target","option","type","disabled","length","scope","telefone","href","replace","rel","title","email","charAt","toUpperCase","slice","possui_cnpj","idades","profissao","plano_atual","toLocaleString"],"sources":["C:/Users/hexshadeveloper/Desktop/project/test1/src/components/corretor/MeusLeads.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  ClipboardDocumentListIcon,\r\n  PhoneIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ClockIcon,\r\n  ExclamationCircleIcon,\r\n  EnvelopeIcon,\r\n  ChatBubbleLeftIcon,\r\n  InformationCircleIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { auth, db } from '../../firebase';\r\nimport { collection, query, where, getDocs, updateDoc, doc, Timestamp } from 'firebase/firestore';\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: 'em_atendimento', label: 'Em Atendimento' },\r\n  { value: 'sem_contato', label: 'Sem Contato' },\r\n  { value: 'lead_errado', label: 'Lead Errado' },\r\n  { value: 'recusado', label: 'Recusado' },\r\n  { value: 'contrato_aprovado', label: 'Contrato Aprovado' }\r\n];\r\n\r\nexport default function MeusLeads() {\r\n  const [leads, setLeads] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showStatusModal, setShowStatusModal] = useState(false);\r\n  const [selectedLead, setSelectedLead] = useState(null);\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    emAtendimento: 0,\r\n    convertidos: 0,\r\n    perdidos: 0\r\n  });\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [selectedDetailLead, setSelectedDetailLead] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchLeads = async () => {\r\n      if (!auth.currentUser) return;\r\n\r\n      try {\r\n        const leadsRef = collection(db, 'leads');\r\n        const q = query(leadsRef, where('corretor_id', '==', auth.currentUser.uid));\r\n        const querySnapshot = await getDocs(q);\r\n        \r\n        const leadsData = [];\r\n        let totalLeads = 0;\r\n        let emAtendimento = 0;\r\n        let convertidos = 0;\r\n        let perdidos = 0;\r\n\r\n        const now = new Date();\r\n        \r\n        querySnapshot.forEach((doc) => {\r\n          const lead = { id: doc.id, ...doc.data() };\r\n          \r\n          // Verifica se o lead expirou (6 horas)\r\n          const dataDistribuicao = lead.data_distribuicao?.toDate();\r\n          if (dataDistribuicao) {\r\n            const horasPassadas = (now - dataDistribuicao) / (1000 * 60 * 60);\r\n            if (horasPassadas > 6 && lead.status_changes < 2) {\r\n              // Devolve o lead para o gestor\r\n              devolverLead(doc.id);\r\n              return;\r\n            }\r\n          }\r\n          \r\n          leadsData.push(lead);\r\n          \r\n          totalLeads++;\r\n          switch (lead.status) {\r\n            case 'em_atendimento':\r\n              emAtendimento++;\r\n              break;\r\n            case 'contrato_aprovado':\r\n              convertidos++;\r\n              break;\r\n            case 'recusado':\r\n            case 'lead_errado':\r\n              perdidos++;\r\n              break;\r\n          }\r\n        });\r\n\r\n        setLeads(leadsData);\r\n        setStats({\r\n          total: totalLeads,\r\n          emAtendimento,\r\n          convertidos,\r\n          perdidos\r\n        });\r\n      } catch (error) {\r\n        console.error('Erro ao buscar leads:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLeads();\r\n    \r\n    // Verifica leads expirados a cada minuto\r\n    const interval = setInterval(fetchLeads, 60000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const devolverLead = async (leadId) => {\r\n    try {\r\n      const leadRef = doc(db, 'leads', leadId);\r\n      await updateDoc(leadRef, {\r\n        corretor_id: null,\r\n        status: 'devolvido',\r\n        data_devolucao: Timestamp.now(),\r\n        motivo_devolucao: 'Tempo expirado'\r\n      });\r\n    } catch (error) {\r\n      console.error('Erro ao devolver lead:', error);\r\n    }\r\n  };\r\n\r\n  const handleChangeStatus = async () => {\r\n    if (!selectedLead || !selectedStatus) return;\r\n\r\n    try {\r\n      const leadRef = doc(db, 'leads', selectedLead.id);\r\n      \r\n      // Verifica se já atingiu o limite de alterações\r\n      if (selectedLead.status_changes >= 2) {\r\n        alert('Este lead já atingiu o limite de alterações de status.');\r\n        return;\r\n      }\r\n\r\n      await updateDoc(leadRef, {\r\n        status: selectedStatus,\r\n        status_changes: (selectedLead.status_changes || 0) + 1,\r\n        ultima_interacao: Timestamp.now(),\r\n        historico_status: [\r\n          ...(selectedLead.historico_status || []),\r\n          {\r\n            status: selectedStatus,\r\n            data: Timestamp.now(),\r\n            corretor_id: auth.currentUser.uid\r\n          }\r\n        ]\r\n      });\r\n\r\n      // Atualiza a lista de leads\r\n      const updatedLeads = leads.map(lead => {\r\n        if (lead.id === selectedLead.id) {\r\n          return {\r\n            ...lead,\r\n            status: selectedStatus,\r\n            status_changes: (lead.status_changes || 0) + 1,\r\n            ultima_interacao: Timestamp.now()\r\n          };\r\n        }\r\n        return lead;\r\n      });\r\n\r\n      setLeads(updatedLeads);\r\n      setShowStatusModal(false);\r\n      setSelectedLead(null);\r\n      setSelectedStatus('');\r\n    } catch (error) {\r\n      console.error('Erro ao atualizar status:', error);\r\n      alert('Erro ao atualizar status do lead. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'em_atendimento':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'contrato_aprovado':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'recusado':\r\n      case 'lead_errado':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'sem_contato':\r\n        return 'bg-gray-100 text-gray-800';\r\n      default:\r\n        return 'bg-blue-100 text-blue-800';\r\n    }\r\n  };\r\n\r\n  const getTempoRestante = (dataDistribuicao) => {\r\n    if (!dataDistribuicao) return null;\r\n    \r\n    const agora = new Date();\r\n    const distribuicao = dataDistribuicao.toDate();\r\n    const tempoPassado = (agora - distribuicao) / (1000 * 60); // em minutos\r\n    const tempoRestante = 360 - tempoPassado; // 6 horas em minutos\r\n    \r\n    if (tempoRestante <= 0) return 'Expirado';\r\n    \r\n    const horas = Math.floor(tempoRestante / 60);\r\n    const minutos = Math.floor(tempoRestante % 60);\r\n    \r\n    if (horas > 0) {\r\n      return `${horas}h${minutos}m`;\r\n    }\r\n    return `${minutos}m`;\r\n  };\r\n\r\n  const getTempoRestanteColor = (dataDistribuicao) => {\r\n    if (!dataDistribuicao) return 'text-gray-500';\r\n    \r\n    const agora = new Date();\r\n    const distribuicao = dataDistribuicao.toDate();\r\n    const tempoPassado = (agora - distribuicao) / (1000 * 60); // em minutos\r\n    const tempoRestante = 360 - tempoPassado; // 6 horas em minutos\r\n    \r\n    if (tempoRestante <= 0) return 'text-red-600';\r\n    if (tempoRestante <= 60) return 'text-red-500'; // última hora\r\n    if (tempoRestante <= 120) return 'text-yellow-500'; // últimas 2 horas\r\n    return 'text-green-500';\r\n  };\r\n\r\n  const openDetailsModal = (lead) => {\r\n    setSelectedDetailLead(lead);\r\n    setShowDetailsModal(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto px-6 py-8\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"text-gray-500\">Carregando leads...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-6 py-8\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Meus Leads</h1>\r\n        <p className=\"mt-2 text-gray-600\">Gerencie seus leads ativos</p>\r\n      </div>\r\n\r\n      {/* Cards de Métricas */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\r\n              <ClipboardDocumentListIcon className=\"h-8 w-8\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Total de Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.total}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-yellow-100 text-yellow-600\">\r\n              <PhoneIcon className=\"h-8 w-8\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Em Atendimento</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.emAtendimento}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-green-100 text-green-600\">\r\n              <CheckCircleIcon className=\"h-8 w-8\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Convertidos</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.convertidos}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-red-100 text-red-600\">\r\n              <XCircleIcon className=\"h-8 w-8\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Perdidos</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.perdidos}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de Alteração de Status */}\r\n      {showStatusModal && selectedLead && (\r\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"text-lg font-medium text-gray-900\">Alterar Status do Lead</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowStatusModal(false);\r\n                  setSelectedLead(null);\r\n                  setSelectedStatus('');\r\n                }}\r\n                className=\"text-gray-400 hover:text-gray-500\"\r\n              >\r\n                <XCircleIcon className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500 mb-2\">\r\n                  Lead: {selectedLead.nome}\r\n                </p>\r\n                <p className=\"text-sm text-gray-500 mb-4\">\r\n                  Alterações restantes: {2 - (selectedLead.status_changes || 0)}\r\n                </p>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Novo Status\r\n                </label>\r\n                <select\r\n                  value={selectedStatus}\r\n                  onChange={(e) => setSelectedStatus(e.target.value)}\r\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\r\n                >\r\n                  <option value=\"\">Selecione um status</option>\r\n                  {STATUS_OPTIONS.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setShowStatusModal(false);\r\n                    setSelectedLead(null);\r\n                    setSelectedStatus('');\r\n                  }}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  onClick={handleChangeStatus}\r\n                  disabled={!selectedStatus}\r\n                  className=\"px-4 py-2 rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n                >\r\n                  Confirmar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Lista de Leads */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\r\n        <div className=\"p-6 border-b border-gray-100\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">\r\n            Leads Ativos\r\n          </h3>\r\n        </div>\r\n        \r\n        {leads.length === 0 ? (\r\n          <div className=\"p-6 text-center\">\r\n            <ExclamationCircleIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nenhum lead encontrado</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              Aguarde a distribuição de leads pelo seu gestor.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Lead\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Ações\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {leads.map((lead) => (\r\n                  <tr key={lead.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex flex-col\">\r\n                        <div className=\"text-sm font-medium text-gray-900 mb-1\">{lead.nome}</div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          {/* WhatsApp */}\r\n                          {lead.telefone && (\r\n                            <a\r\n                              href={`https://wa.me/55${lead.telefone.replace(/\\D/g, '')}`}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"inline-flex items-center text-green-600 hover:text-green-700\"\r\n                              title=\"Enviar WhatsApp\"\r\n                            >\r\n                              <ChatBubbleLeftIcon className=\"h-4 w-4\" />\r\n                            </a>\r\n                          )}\r\n                          \r\n                          {/* Telefone */}\r\n                          {lead.telefone && (\r\n                            <a\r\n                              href={`tel:${lead.telefone}`}\r\n                              className=\"inline-flex items-center text-blue-600 hover:text-blue-700\"\r\n                              title=\"Ligar\"\r\n                            >\r\n                              <PhoneIcon className=\"h-4 w-4\" />\r\n                            </a>\r\n                          )}\r\n                          \r\n                          {/* Email */}\r\n                          {lead.email && (\r\n                            <a\r\n                              href={`mailto:${lead.email}`}\r\n                              className=\"inline-flex items-center text-gray-600 hover:text-gray-700\"\r\n                              title=\"Enviar E-mail\"\r\n                            >\r\n                              <EnvelopeIcon className=\"h-4 w-4\" />\r\n                            </a>\r\n                          )}\r\n                        </div>\r\n                        {/* Indicador de tempo restante */}\r\n                        <div className={`text-xs font-medium mt-1 flex items-center ${getTempoRestanteColor(lead.data_distribuicao)}`}>\r\n                          <ClockIcon className=\"h-3 w-3 mr-1\" />\r\n                          {getTempoRestante(lead.data_distribuicao)}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex flex-col space-y-1\">\r\n                        <span className={`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(lead.status || 'novo')}`}>\r\n                          {(lead.status || 'novo').replace('_', ' ').charAt(0).toUpperCase() + (lead.status || 'novo').slice(1)}\r\n                        </span>\r\n                        {lead.status_changes > 0 && (\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            ({2 - lead.status_changes} alterações restantes)\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            if (lead.status_changes >= 2) {\r\n                              alert('Este lead já atingiu o limite de alterações de status.');\r\n                              return;\r\n                            }\r\n                            setSelectedLead(lead);\r\n                            setShowStatusModal(true);\r\n                          }}\r\n                          className={`text-primary-600 hover:text-primary-900 disabled:text-gray-400 disabled:hover:text-gray-400 ${\r\n                            lead.status_changes >= 2 ? 'cursor-not-allowed' : ''\r\n                          }`}\r\n                          disabled={lead.status_changes >= 2}\r\n                        >\r\n                          Alterar Status\r\n                        </button>\r\n                        <button\r\n                          onClick={() => openDetailsModal(lead)}\r\n                          className=\"text-gray-600 hover:text-gray-900\"\r\n                          title=\"Ver detalhes\"\r\n                        >\r\n                          <InformationCircleIcon className=\"h-5 w-5\" />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Detalhes do Lead */}\r\n      {showDetailsModal && selectedDetailLead && (\r\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-lg w-full p-5 transform transition-all\">\r\n            {/* Cabeçalho */}\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900\">{selectedDetailLead.nome}</h2>\r\n                <span className={`px-2 py-0.5 text-xs font-medium rounded-full ${getStatusColor(selectedDetailLead.status || 'novo')}`}>\r\n                  {(selectedDetailLead.status || 'novo').replace('_', ' ').charAt(0).toUpperCase() + (selectedDetailLead.status || 'novo').slice(1)}\r\n                </span>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  setShowDetailsModal(false);\r\n                  setSelectedDetailLead(null);\r\n                }}\r\n                className=\"text-gray-400 hover:text-gray-500\"\r\n              >\r\n                <XCircleIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Corpo */}\r\n            <div className=\"space-y-4\">\r\n              {/* Contato e Tempo */}\r\n              <div className=\"flex justify-between items-center pb-3 border-b border-gray-100\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  {selectedDetailLead.telefone && (\r\n                    <>\r\n                      <a\r\n                        href={`https://wa.me/55${selectedDetailLead.telefone.replace(/\\D/g, '')}`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"inline-flex items-center text-sm text-green-600 hover:text-green-700\"\r\n                        title=\"WhatsApp\"\r\n                      >\r\n                        <ChatBubbleLeftIcon className=\"h-5 w-5\" />\r\n                      </a>\r\n                      <a\r\n                        href={`tel:${selectedDetailLead.telefone}`}\r\n                        className=\"inline-flex items-center text-sm text-blue-600 hover:text-blue-700\"\r\n                        title=\"Ligar\"\r\n                      >\r\n                        <PhoneIcon className=\"h-5 w-5\" />\r\n                      </a>\r\n                    </>\r\n                  )}\r\n                  {selectedDetailLead.email && (\r\n                    <a\r\n                      href={`mailto:${selectedDetailLead.email}`}\r\n                      className=\"inline-flex items-center text-sm text-gray-600 hover:text-gray-700\"\r\n                      title=\"Email\"\r\n                    >\r\n                      <EnvelopeIcon className=\"h-5 w-5\" />\r\n                    </a>\r\n                  )}\r\n                </div>\r\n                <div className={`flex items-center text-sm font-medium ${getTempoRestanteColor(selectedDetailLead.data_distribuicao)}`}>\r\n                  <ClockIcon className=\"h-4 w-4 mr-1\" />\r\n                  {getTempoRestante(selectedDetailLead.data_distribuicao)}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Informações do Lead */}\r\n              <div className=\"grid grid-cols-2 gap-x-6 gap-y-3\">\r\n                {selectedDetailLead.email && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">Email</p>\r\n                    <p className=\"text-sm text-gray-900 truncate\">{selectedDetailLead.email}</p>\r\n                  </div>\r\n                )}\r\n                {selectedDetailLead.telefone && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">Telefone</p>\r\n                    <p className=\"text-sm text-gray-900\">{selectedDetailLead.telefone}</p>\r\n                  </div>\r\n                )}\r\n                {selectedDetailLead.possui_cnpj && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">CNPJ</p>\r\n                    <p className=\"text-sm text-gray-900\">{selectedDetailLead.possui_cnpj}</p>\r\n                  </div>\r\n                )}\r\n                {selectedDetailLead.idades && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">Idades</p>\r\n                    <p className=\"text-sm text-gray-900\">{selectedDetailLead.idades}</p>\r\n                  </div>\r\n                )}\r\n                {selectedDetailLead.profissao && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">Profissão</p>\r\n                    <p className=\"text-sm text-gray-900\">{selectedDetailLead.profissao}</p>\r\n                  </div>\r\n                )}\r\n                {selectedDetailLead.plano_atual && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-500\">Plano Atual</p>\r\n                    <p className=\"text-sm text-gray-900\">{selectedDetailLead.plano_atual}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Status e Alterações */}\r\n              <div className=\"flex justify-between items-center pt-3 mt-2 border-t border-gray-100\">\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Última interação: {selectedDetailLead.ultima_interacao?.toDate().toLocaleString() || 'N/A'}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  {selectedDetailLead.status_changes || 0} de 2 alterações realizadas\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}